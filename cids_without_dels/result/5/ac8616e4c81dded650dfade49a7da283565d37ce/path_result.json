{"drivers/clk/sunxi-ng/ccu_mp.c": [{"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_recalc_rate", "is_cond": false, "line_numbers": [84, 88], "line_cids": ["", ""], "line_strs": ["\tstruct ccu_mp *cmp = hw_to_ccu_mp(hw);", "\treg = readl(cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_recalc_rate", "is_cond": false, "line_numbers": [84, 88], "line_cids": ["", ""], "line_strs": ["\tstruct ccu_mp *cmp = hw_to_ccu_mp(hw);", "\treg = readl(cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [114, 120], "line_cids": ["", ""], "line_strs": ["\tstruct ccu_mp *cmp = hw_to_ccu_mp(hw);", "\tmax_m = cmp->m.max ?: 1 << cmp->m.width;"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [123], "line_cids": [""], "line_strs": ["\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [125], "line_cids": [""], "line_strs": ["\tspin_lock_irqsave(cmp->common.lock, flags);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [121, 121], "line_cids": ["", ""], "line_strs": ["\tmax_p = cmp->p.max ?: 1 << ((1 << cmp->p.width) - 1);", "\tmax_p = cmp->p.max ?: 1 << ((1 << cmp->p.width) - 1);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [123], "line_cids": [""], "line_strs": ["\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [135], "line_cids": [""], "line_strs": ["\tspin_unlock_irqrestore(cmp->common.lock, flags);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [128, 128, 129, 129], "line_cids": ["", "", "", ""], "line_strs": ["\treg &= ~GENMASK(cmp->m.width + cmp->m.shift - 1, cmp->m.shift);", "\treg &= ~GENMASK(cmp->m.width + cmp->m.shift - 1, cmp->m.shift);", "\treg &= ~GENMASK(cmp->p.width + cmp->p.shift - 1, cmp->p.shift);", "\treg &= ~GENMASK(cmp->p.width + cmp->p.shift - 1, cmp->p.shift);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [127, 127], "line_cids": ["", ""], "line_strs": ["\treg = readl(cmp->common.base + cmp->common.reg);", "\treg = readl(cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [120, 123], "line_cids": ["", ""], "line_strs": ["\tmax_m = cmp->m.max ?: 1 << cmp->m.width;", "\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [118, 127], "line_cids": ["", ""], "line_strs": ["\tu32 reg;", "\treg = readl(cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [114, 120], "line_cids": ["", ""], "line_strs": ["\tstruct ccu_mp *cmp = hw_to_ccu_mp(hw);", "\tmax_m = cmp->m.max ?: 1 << cmp->m.width;"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [125], "line_cids": [""], "line_strs": ["\tspin_lock_irqsave(cmp->common.lock, flags);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [120, 123], "line_cids": ["", ""], "line_strs": ["\tmax_m = cmp->m.max ?: 1 << cmp->m.width;", "\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [121, 121], "line_cids": ["", ""], "line_strs": ["\tmax_p = cmp->p.max ?: 1 << ((1 << cmp->p.width) - 1);", "\tmax_p = cmp->p.max ?: 1 << ((1 << cmp->p.width) - 1);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [123], "line_cids": [""], "line_strs": ["\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [133], "line_cids": [""], "line_strs": ["\twritel(reg, cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [131, 131], "line_cids": ["", ""], "line_strs": ["\treg |= ilog2(p) << cmp->p.shift;", "\treg |= ilog2(p) << cmp->p.shift;"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [125], "line_cids": [""], "line_strs": ["\tspin_lock_irqsave(cmp->common.lock, flags);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [121], "line_cids": [""], "line_strs": ["\tmax_p = cmp->p.max ?: 1 << ((1 << cmp->p.width) - 1);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [123], "line_cids": [""], "line_strs": ["\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [135], "line_cids": [""], "line_strs": ["\tspin_unlock_irqrestore(cmp->common.lock, flags);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [128, 128, 129, 129], "line_cids": ["", "", "", ""], "line_strs": ["\treg &= ~GENMASK(cmp->m.width + cmp->m.shift - 1, cmp->m.shift);", "\treg &= ~GENMASK(cmp->m.width + cmp->m.shift - 1, cmp->m.shift);", "\treg &= ~GENMASK(cmp->p.width + cmp->p.shift - 1, cmp->p.shift);", "\treg &= ~GENMASK(cmp->p.width + cmp->p.shift - 1, cmp->p.shift);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [127, 127], "line_cids": ["", ""], "line_strs": ["\treg = readl(cmp->common.base + cmp->common.reg);", "\treg = readl(cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [120, 120], "line_cids": ["", ""], "line_strs": ["\tmax_m = cmp->m.max ?: 1 << cmp->m.width;", "\tmax_m = cmp->m.max ?: 1 << cmp->m.width;"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [118, 127], "line_cids": ["", ""], "line_strs": ["\tu32 reg;", "\treg = readl(cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [114, 120], "line_cids": ["", ""], "line_strs": ["\tstruct ccu_mp *cmp = hw_to_ccu_mp(hw);", "\tmax_m = cmp->m.max ?: 1 << cmp->m.width;"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [125], "line_cids": [""], "line_strs": ["\tspin_lock_irqsave(cmp->common.lock, flags);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [120, 120], "line_cids": ["", ""], "line_strs": ["\tmax_m = cmp->m.max ?: 1 << cmp->m.width;", "\tmax_m = cmp->m.max ?: 1 << cmp->m.width;"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [121], "line_cids": [""], "line_strs": ["\tmax_p = cmp->p.max ?: 1 << ((1 << cmp->p.width) - 1);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [123], "line_cids": [""], "line_strs": ["\tccu_mp_find_best(parent_rate, rate, max_m, max_p, &m, &p);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [133], "line_cids": [""], "line_strs": ["\twritel(reg, cmp->common.base + cmp->common.reg);"]}, {"patch_file_name": "drivers/clk/sunxi-ng/ccu_mp.c", "func_decl_name": "ccu_mp_set_rate", "is_cond": false, "line_numbers": [131, 131], "line_cids": ["", ""], "line_strs": ["\treg |= ilog2(p) << cmp->p.shift;", "\treg |= ilog2(p) << cmp->p.shift;"]}]}